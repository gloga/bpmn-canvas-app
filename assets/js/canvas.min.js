function selectPath(e,t){e.selected=!0}function unselectPath(e,t){e.selected=!1}function movePath(e,t){e.position+=t.delta}function drawActivity(e,t){var o=new Group,n=new Path.Rectangle({x:e-50,y:t-25,width:100,height:50,radius:10,strokeColor:"blue",fillColor:"white",userName:"element",type:"activity"}),i=new Path.Circle({radius:5,center:[e+50,t],fillColor:"grey",type:"connector"}),s=i.clone();s.position.x=e,s.position.y=t+25;var c=i.clone();c.position.x=e-50,c.position.y=t;var l=i.clone();l.position.x=e,l.position.y=t-25,o.addChildren([n,i,s,c,l]),o.onMouseMove=function(e){this.hitTestAll(e.point,{type:"connector"});console.log(this.children)},o.onMouseEnter=function(e){selectPath(this,e)},o.onMouseLeave=function(e){unselectPath(this,e)},o.onMouseDrag=function(e){movePath(this,e)},o.onMouseDown=function(e){console.log(this)}}function drawEvent(e,t){var o=new Path.Circle({radius:20,center:[e,t],strokeColor:"green",fillColor:"white",userName:"element",type:"event"});o.onMouseEnter=function(e){selectPath(this,e)},o.onMouseLeave=function(e){unselectPath(this,e)},o.onMouseDrag=function(e){this.position+=e.delta},o.onMouseDown=function(e){console.log(this),console.log(this.hitTest(e.point,{segments:!0}))}}function draw(e,t){var o=document.querySelector(".element.selected");if(o){var n=o.getAttribute("data-trigger");"event"===n?drawEvent(e,t):"activity"===n&&drawActivity(e,t)}}function onMouseUp(e){draw(e.downPoint.x,e.downPoint.y),items=project.getItems({class:Path,userName:"element"})}var items;items&&items.forEach(function(e){console.log(e),e.onMouseMove=function(e){this.selected="true"}});