function drawActivity(e,t){var n=new Path.Rectangle({width:100,height:50,strokeWidth:2,strokeColor:"black",fillColor:"white",type:"activity",subtype:""});activityConnectors=makeConnectors(e,t,100,50),activityGroup.addChildren([n,activityConnectors]);var o=new SymbolDefinition(activityGroup);return new SymbolItem(o)}function onMouseMove(e){}function makeConnectors(e,t,n,o){var i=new Path.Circle({radius:4,fillColor:"grey",type:"connector"});return[new Point(e+n/2,t),new Point(e,t+o/2),new Point(e-n/2,t),new Point(e,t-o/2)].forEach(function(e,t){i.position=e,connectorGroup.addChild(i)}),connectorGroup}function drawEvent(e,t){console.debug("yo"),console.log("yo");var n=new Path.Circle({radius:20,center:[e,t],strokeWidth:2,strokeColor:"black",fillColor:"white",type:"event",subtype:""});eventConnectors=makeConnectors(e,t,40,40),eventGroup.addChildren([n,eventConnectors]);var o=new SymbolDefinition(eventGroup);return new SymbolItem(o,[e,t])}function getChildren(e,t){for(var n=[];e;e=e.nextSibling)1==e.nodeType&&e!=t&&n.push(e);return n}function getSiblings(e){return getChildren(e.parentNode.firstChild,e)}var activityGroup=new Group;elementType="",tool.minDistance=10,tool.onMouseDrag=function(e){},window.addEventListener("wheel",function(e){e.preventDefault(),e.deltaY>0?project.view.zoom-=.02:project.view.zoom+=.02});var eventOptions=document.querySelectorAll(".element-option");eventOptions.forEach(function(e){e.onclick=function(){elementType=this.getAttribute("data-type")}}),project.view.onMouseUp=function(e){"event"===elementType?(drawEvent(e.point.x,e.point.y),elementType=""):"activity"===elementType&&(drawActivity(e.point.x,e.point.y),elementType="")};var connectorGroup=new Group({}),eventGroup=new Group;!function(){var e=document.querySelectorAll(".element");e.forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("selected"),getSiblings(this).forEach(function(e){e.classList.remove("selected")})})}),document.querySelector("canvas").addEventListener("click",function(){e.forEach(function(e){e.classList.remove("selected")})})}();