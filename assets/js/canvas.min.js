function drawActivity(e,t){var n=new Group,o=new Path.Rectangle({x:e-50,y:t-25,width:100,height:50,radius:10,strokeWidth:2,strokeColor:"blue",fillColor:"white",userName:"element",name:"activity",type:"activity"}),i=new Path.Circle({radius:3,center:[e+50,t],fillColor:"grey",visible:!1,type:"connector",name:"connector"}),c=i.clone();c.position.x=e,c.position.y=t+25;var r=i.clone();r.position.x=e-50,r.position.y=t;var s=i.clone();s.position.x=e,s.position.y=t-25,n.addChildren([o,i,c,r,s]),tool.minDistance=1e3,n.onMouseMove=function(e){},n.onMouseEnter=function(e){this.children.forEach(function(e){-1!==e.name.indexOf("connector")&&(e.visible=!0)})},n.onMouseLeave=function(e){this.children.forEach(function(e){-1!==e.name.indexOf("connector")&&(e.visible=!1)})},n.onMouseDrag=function(e){this.children.forEach(function(t){t.hitTestAll(e.point,{fillColor:"grey"})}),movePath(this,e)},n.onMouseDown=function(e){}}function selectPath(e,t){e.selected=!0}function unselectPath(e,t){e.selected=!1}function movePath(e,t){e.position+=t.delta}function draw(e,t){var n=document.querySelector(".element.selected");if(n){var o=n.getAttribute("data-trigger");"event"===o?drawEvent(e,t):"activity"===o&&drawActivity(e,t)}}function onMouseUp(e){draw(e.downPoint.x,e.downPoint.y),items=project.getItems({class:Path,userName:"element"})}function drawEvent(e,t){var n=new Path.Circle({radius:20,center:[e,t],strokeWidth:2,strokeColor:"green",fillColor:"white",userName:"element",type:"event",name:"event"});n.onMouseEnter=function(e){},n.onMouseLeave=function(e){},n.onMouseDrag=function(e){movePath(this,e)},n.onMouseDown=function(e){console.log(this),console.log(this.hitTest(e.point,{segments:!0}))}}tool.minDistance=100;var items;